{% extends 'base.html.twig' %}

{% block title %}
	Ajouter un membre |
	{{parent()}}
{% endblock %}

{% block body %}
	<div class="container">
		<h1 class="title">{{team.name}}</h1>
			{% for message in app.flashes('success') %}
				<div class="flash success">
					{{ message }}
				</div>
			{% endfor %}
		{# <a href="{{path("admin_team_rename", {"teamId" : team.id})}}">Rennomer l'equipe</a> #}
		<table class="tableau">
            <thead>
                <tr>
					<th>Id</th>
                    <th>Image</th>
                    <th>Nom</th>
                    <th>Level</th>
					<th></th>
                </tr>
            </thead>
            <tbody>
                {% for character in teamMembers %}
                    <tr>
                        <td class="data-id">{{character.id}}</td>
                        <td>
                            <img src="{{asset('image_personnage/'~ character.image)}}" alt="" height="50">
                        </td>
                        <td class="data-name">
                            <a href="{{ path("team_sheet_view", {"teamSlug" : team.slug, "teamId" : team.id, "characterSlug": character.slug, "characterId" : character.id}) }}">{{ character.name }}</a>
                        </td>
                        <td> {{character.level}} </td>
						<td>
							<a class="ajax-delete-link" href="{{ path("admin_delete_team_member", {"characterId" : character.id}) }}">Supprimmer</a>						
						</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>

		<div class="div-form-hidden">
			{{form_start(memberForm, {'attr': {'class': 'hidden'} }) }}
			<div class="div-form">
				{{ form_label(memberForm.character) }}
                {{ form_widget(memberForm.character) }}
			</div>
			<button class="valid-form">Ajouter !</button>
			{{form_end(memberForm)}}
			<a id="show-form">Ajouter un Menbre</a>
		</div>
	</div>


{% endblock %}


{% block script %}
	<script src="{{ asset("script/delete.js")}}"></script>
{% endblock %}